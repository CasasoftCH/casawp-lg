function iaziVerifyCaptcha(e){console.log(e),this.iaziGetClient()}function iaziGetClient(){try{const e="SHA-512",t="B64",n="TEXT",a="3FA5CA0FAC524008A16A4A91C3F473829C1FE75877514A17AA168F64FA10CD80",o="de7a3576-b0f8-4dc4-8aa2-99df4c91c94d-34c6cc8a-7940-4561-99c6-3baf3e237f33",r=moment().unix(),s=a+r+o,c=new jsSHA(e,n);c.update(s);const i=c.getHash(t);document.getElementById("hash").value=i,console.log(a),console.log(r),console.log(i);const l=new XMLHttpRequest,p="https://testservices.iazi.ch/api/hedolight/v1/getclient";l.open("GET",p),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("x",a),l.setRequestHeader("t",r),l.setRequestHeader("h",i),l.onload=function(){var e=JSON.parse(l.responseText);4==l.readyState&&"200"==l.status?console.log(e):console.log(e)},l.send(null)}catch(u){console.log(u)}}jQuery(function(){"use strict";!function(e){function t(t){e(t).removeClass("active"),e(t).prev().addClass("active").removeClass("old")}function n(t){e(t).removeClass("active").addClass("old"),e(t).next().addClass("active")}function a(){var t=new google.maps.Map(document.getElementById("casawp-lg_map"),{center:{lat:47.37796,lng:8.53992},zoom:10,mapTypeId:"roadmap",disableDefaultUI:!0}),n=document.getElementById("pac-card"),a=document.getElementById("pac-input"),o=new google.maps.places.SearchBox(a);t.controls[google.maps.ControlPosition.TOP_CENTER].push(n),t.addListener("bounds_changed",function(){o.setBounds(t.getBounds())}),google.maps.event.addDomListener(a,"keydown",function(e){13===e.keyCode&&e.preventDefault()});var r=[];o.addListener("places_changed",function(){var n=o.getPlaces();if(0!=n.length){r.forEach(function(e){e.setMap(null)}),r=[];var a=new google.maps.LatLngBounds,s="";n.forEach(function(n){if(!n.geometry)return void console.log("Returned place contains no geometry");if(n.address_components){var o=n.address_components.find(function(e){return e.types.indexOf("country")!==-1});o&&(s=o.short_name?o.short_name:"")}document.getElementById("countryName").value=s,document.getElementById("cityName").value=n.name,document.getElementById("cityLat").value=n.geometry.location.lat(),document.getElementById("cityLng").value=n.geometry.location.lng(),e("#pac-input").css("border-color","transparent"),r.push(new google.maps.Marker({map:t,title:n.name,position:n.geometry.location})),n.geometry.viewport?a.union(n.geometry.viewport):a.extend(n.geometry.location)}),t.fitBounds(a)}})}var o=-1;e(".casawp-lg_slide").each(function(){o=o>e(this).height()?o:e(this).height()}),e("#clgFormAnchor").outerHeight(o),e(window).resize(function(){e(".casawp-lg_slide").each(function(){o=o>e(this).height()?o:e(this).height()}),e(".casawp-lg-wrapper_inner").outerHeight(o)}),e(".btn-forward").click(function(t){t.preventDefault();var a=e(this).parent().parent().parent().parent().parent();return a.find("#pac-input").length?e("#cityName").val()?n(a):e("#pac-input").css("border-color","red"):n(a),!1}),e(".btn-backward").click(function(n){n.preventDefault();var a=e(this).parent().parent().parent().parent().parent();return t(a),!1}),e('input[type="range"]').rangeslider({polyfill:!1,onInit:function(){this.output=e('<div class="range-output" />').insertAfter(this.$range).html(this.$element.val())},onSlide:function(e,t){this.output.html(t)}}),"single-family-house"==e('input[name="extra_data[propertyType]"]:checked').val()&&(e("#casawp-lg-property-surface").parent().show(),e("#casawp-lg-bathroom").parent().hide()),e('input[type="radio"][name="extra_data[propertyType]"]').change(function(){"single-family-house"==e('input[name="extra_data[propertyType]"]:checked').val()?(e("#casawp-lg-property-surface").parent().show(),e("#casawp-lg-bathroom").parent().hide()):(e("#casawp-lg-property-surface").parent().hide(),e("#casawp-lg-bathroom").parent().show())}),e("#casawp-lg_map").length&&a()}(jQuery)});
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function i(){var t=document.createElement("input");return t.setAttribute("type","range"),"text"!==t.type}function e(t,i){var e=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},i)}function n(t,i){return i=i||100,function(){if(!t.debouncing){var e=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,e),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){t.debouncing=!1},i),t.lastReturnVal}}function s(t){return t&&(0===t.offsetWidth||0===t.offsetHeight||t.open===!1)}function o(t){for(var i=[],e=t.parentNode;s(e);)i.push(e),e=e.parentNode;return i}function r(t,i){function e(t){"undefined"!=typeof t.open&&(t.open=!t.open)}var n=o(t),s=n.length,r=[],h=t[i];if(s){for(var a=0;a<s;a++)r[a]=n[a].style.cssText,n[a].style.setProperty?n[a].style.setProperty("display","block","important"):n[a].style.cssText+=";display: block !important",n[a].style.height="0",n[a].style.overflow="hidden",n[a].style.visibility="hidden",e(n[a]);h=t[i];for(var l=0;l<s;l++)n[l].style.cssText=r[l],e(n[l])}return h}function h(t,i){var e=parseFloat(t);return Number.isNaN(e)?i:e}function a(t){return t.charAt(0).toUpperCase()+t.substr(1)}function l(i,s){if(this.$window=t(window),this.$document=t(document),this.$element=t(i),this.options=t.extend({},f,s),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=c.orientation[this.orientation].dimension,this.DIRECTION=c.orientation[this.orientation].direction,this.DIRECTION_STYLE=c.orientation[this.orientation].directionStyle,this.COORDINATE=c.orientation[this.orientation].coordinate,this.polyfill&&p)return!1;this.identifier="js-"+d+"-"+u++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=t('<div class="'+this.options.fillClass+'" />'),this.$handle=t('<div class="'+this.options.handleClass+'" />'),this.$range=t('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=t.proxy(this.handleDown,this),this.handleMove=t.proxy(this.handleMove,this),this.handleEnd=t.proxy(this.handleEnd,this),this.init();var o=this;this.$window.on("resize."+this.identifier,n(function(){e(function(){o.update(!1,!1)},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(t,i){if(!i||i.origin!==o.identifier){var e=t.target.value,n=o.getPositionFromValue(e);o.setPosition(n)}})}Number.isNaN=Number.isNaN||function(t){return"number"==typeof t&&t!==t};var d="rangeslider",u=0,p=i(),f={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},c={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};return l.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},l.prototype.update=function(t,i){t=t||!1,t&&(this.min=h(this.$element[0].getAttribute("min"),0),this.max=h(this.$element[0].getAttribute("max"),100),this.value=h(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=h(this.$element[0].getAttribute("step"),1)),this.handleDimension=r(this.$handle[0],"offset"+a(this.DIMENSION)),this.rangeDimension=r(this.$range[0],"offset"+a(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,i)},l.prototype.handleDown=function(t){if(t.preventDefault(),!(t.button&&0!==t.button||(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),(" "+t.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1))){var i=this.getRelativePosition(t),e=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=this.getPositionFromNode(this.$handle[0])-e,s="vertical"===this.orientation?this.maxHandlePos-(i-this.grabPos):i-this.grabPos;this.setPosition(s),i>=n&&i<n+this.handleDimension&&(this.grabPos=i-n)}},l.prototype.handleMove=function(t){t.preventDefault();var i=this.getRelativePosition(t),e="vertical"===this.orientation?this.maxHandlePos-(i-this.grabPos):i-this.grabPos;this.setPosition(e)},l.prototype.handleEnd=function(t){t.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$range.removeClass(this.options.activeClass),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},l.prototype.cap=function(t,i,e){return t<i?i:t>e?e:t},l.prototype.setPosition=function(t,i){var e,n;void 0===i&&(i=!0),e=this.getValueFromPosition(this.cap(t,0,this.maxHandlePos)),n=this.getPositionFromValue(e),this.$fill[0].style[this.DIMENSION]=n+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=n+"px",this.setValue(e),this.position=n,this.value=e,i&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(n,e)},l.prototype.getPositionFromNode=function(t){for(var i=0;null!==t;)i+=t.offsetLeft,t=t.offsetParent;return i},l.prototype.getRelativePosition=function(t){var i=a(this.COORDINATE),e=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=0;return"undefined"!=typeof t.originalEvent["client"+i]?n=t.originalEvent["client"+i]:t.originalEvent.touches&&t.originalEvent.touches[0]&&"undefined"!=typeof t.originalEvent.touches[0]["client"+i]?n=t.originalEvent.touches[0]["client"+i]:t.currentPoint&&"undefined"!=typeof t.currentPoint[this.COORDINATE]&&(n=t.currentPoint[this.COORDINATE]),n-e},l.prototype.getPositionFromValue=function(t){var i,e;return i=(t-this.min)/(this.max-this.min),e=Number.isNaN(i)?0:i*this.maxHandlePos},l.prototype.getValueFromPosition=function(t){var i,e;return i=t/(this.maxHandlePos||1),e=this.step*Math.round(i*(this.max-this.min)/this.step)+this.min,Number(e.toFixed(this.toFixed))},l.prototype.setValue=function(t){t===this.value&&""!==this.$element[0].value||this.$element.val(t).trigger("input",{origin:this.identifier})},l.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+d),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},t.fn[d]=function(i){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),s=n.data("plugin_"+d);s||n.data("plugin_"+d,s=new l(this,i)),"string"==typeof i&&s[i].apply(s,e)})},"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"});
"use strict";!function(e){function n(e,n,r){var w,s,c,b,h,l,A,p,E,d=0,H=[],v=0,S=!1,g=[],U=[],k=!1,m=!1,F=-1;if(r=r||{},w=r.encoding||"UTF8",E=r.numRounds||1,E!==parseInt(E,10)||1>E)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)h=512,l=Y,A=I,b=160,p=function(e){return e.slice()};else if(0===e.lastIndexOf("SHA-",0))if(l=function(n,r){return O(n,r,e)},A=function(n,r,t,a){var o,i;if("SHA-224"===e||"SHA-256"===e)o=(r+65>>>9<<4)+15,i=16;else{if("SHA-384"!==e&&"SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");o=(r+129>>>10<<5)+31,i=32}for(;n.length<=o;)n.push(0);for(n[r>>>5]|=128<<24-r%32,r+=t,n[o]=4294967295&r,n[o-1]=r/4294967296|0,t=n.length,r=0;r<t;r+=i)a=O(n.slice(r,r+i),a,e);if("SHA-224"===e)n=[a[0],a[1],a[2],a[3],a[4],a[5],a[6]];else if("SHA-256"===e)n=a;else if("SHA-384"===e)n=[a[0].a,a[0].b,a[1].a,a[1].b,a[2].a,a[2].b,a[3].a,a[3].b,a[4].a,a[4].b,a[5].a,a[5].b];else{if("SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");n=[a[0].a,a[0].b,a[1].a,a[1].b,a[2].a,a[2].b,a[3].a,a[3].b,a[4].a,a[4].b,a[5].a,a[5].b,a[6].a,a[6].b,a[7].a,a[7].b]}return n},p=function(e){return e.slice()},"SHA-224"===e)h=512,b=224;else if("SHA-256"===e)h=512,b=256;else if("SHA-384"===e)h=1024,b=384;else{if("SHA-512"!==e)throw Error("Chosen SHA variant is not supported");h=1024,b=512}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var y=6;if(l=X,p=function(e){var n,r=[];for(n=0;5>n;n+=1)r[n]=e[n].slice();return r},F=1,"SHA3-224"===e)h=1152,b=224;else if("SHA3-256"===e)h=1088,b=256;else if("SHA3-384"===e)h=832,b=384;else if("SHA3-512"===e)h=576,b=512;else if("SHAKE128"===e)h=1344,b=-1,y=31,m=!0;else{if("SHAKE256"!==e)throw Error("Chosen SHA variant is not supported");h=1088,b=-1,y=31,m=!0}A=function(e,n,r,t,a){r=h;var o,i=y,u=[],f=r>>>5,w=0,s=n>>>5;for(o=0;o<s&&n>=r;o+=f)t=X(e.slice(o,o+f),t),n-=r;for(e=e.slice(o),n%=r;e.length<f;)e.push(0);for(o=n>>>3,e[o>>2]^=i<<o%4*8,e[f-1]^=2147483648,t=X(e,t);32*u.length<a&&(e=t[w%5][w/5|0],u.push(e.b),!(32*u.length>=a));)u.push(e.a),w+=1,0===64*w%r&&X(null,t);return u}}c=f(n,w,F),s=x(e),this.setHMACKey=function(n,r,t){var a;if(!0===S)throw Error("HMAC key already set");if(!0===k)throw Error("Cannot set HMAC key after calling update");if(!0===m)throw Error("SHAKE is not supported for HMAC");if(w=(t||{}).encoding||"UTF8",r=f(r,w,F)(n),n=r.binLen,r=r.value,a=h>>>3,t=a/4-1,a<n/8){for(r=A(r,n,0,x(e),b);r.length<=t;)r.push(0);r[t]&=4294967040}else if(a>n/8){for(;r.length<=t;)r.push(0);r[t]&=4294967040}for(n=0;n<=t;n+=1)g[n]=909522486^r[n],U[n]=1549556828^r[n];s=l(g,s),d=h,S=!0},this.update=function(e){var n,r,t,a=0,o=h>>>5;for(n=c(e,H,v),e=n.binLen,r=n.value,n=e>>>5,t=0;t<n;t+=o)a+h<=e&&(s=l(r.slice(t,t+o),s),a+=h);d+=a,H=r.slice(a>>>5),v=e%h,k=!0},this.getHash=function(n,r){var f,w,c,h;if(!0===S)throw Error("Cannot call getHash after setting HMAC key");if(c=u(r),!0===m){if(-1===c.shakeLen)throw Error("shakeLen must be specified in options");b=c.shakeLen}switch(n){case"HEX":f=function(e){return t(e,b,F,c)};break;case"B64":f=function(e){return a(e,b,F,c)};break;case"BYTES":f=function(e){return o(e,b,F)};break;case"ARRAYBUFFER":try{w=new ArrayBuffer(0)}catch(l){throw Error("ARRAYBUFFER not supported by this environment")}f=function(e){return i(e,b,F)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(h=A(H.slice(),v,d,p(s),b),w=1;w<E;w+=1)!0===m&&0!==b%32&&(h[h.length-1]&=16777215>>>24-b%32),h=A(h,b,0,x(e),b);return f(h)},this.getHMAC=function(n,r){var f,w,c,E;if(!1===S)throw Error("Cannot call getHMAC without first setting HMAC key");switch(c=u(r),n){case"HEX":f=function(e){return t(e,b,F,c)};break;case"B64":f=function(e){return a(e,b,F,c)};break;case"BYTES":f=function(e){return o(e,b,F)};break;case"ARRAYBUFFER":try{f=new ArrayBuffer(0)}catch(g){throw Error("ARRAYBUFFER not supported by this environment")}f=function(e){return i(e,b,F)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return w=A(H.slice(),v,d,p(s),b),E=l(U,x(e)),E=A(w,b,h,E,b),f(E)}}function r(e,n){this.a=e,this.b=n}function t(e,n,r,t){var a="";n/=8;var o,i,u;for(u=-1===r?3:0,o=0;o<n;o+=1)i=e[o>>>2]>>>8*(u+o%4*r),a+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return t.outputUpper?a.toUpperCase():a}function a(e,n,r,t){var a,o,i,u,f="",w=n/8;for(u=-1===r?3:0,a=0;a<w;a+=3)for(o=a+1<w?e[a+1>>>2]:0,i=a+2<w?e[a+2>>>2]:0,i=(e[a>>>2]>>>8*(u+a%4*r)&255)<<16|(o>>>8*(u+(a+1)%4*r)&255)<<8|i>>>8*(u+(a+2)%4*r)&255,o=0;4>o;o+=1)f+=8*a+6*o<=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-o)&63):t.b64Pad;return f}function o(e,n,r){var t="";n/=8;var a,o,i;for(i=-1===r?3:0,a=0;a<n;a+=1)o=e[a>>>2]>>>8*(i+a%4*r)&255,t+=String.fromCharCode(o);return t}function i(e,n,r){n/=8;var t,a,o,i=new ArrayBuffer(n);for(o=new Uint8Array(i),a=-1===r?3:0,t=0;t<n;t+=1)o[t]=e[t>>>2]>>>8*(a+t%4*r)&255;return i}function u(e){var n={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},n.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(n.b64Pad=e.b64Pad),!0===e.hasOwnProperty("shakeLen")){if(0!==e.shakeLen%8)throw Error("shakeLen must be a multiple of 8");n.shakeLen=e.shakeLen}if("boolean"!=typeof n.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw Error("Invalid b64Pad formatting option");return n}function f(e,n,r){switch(n){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":e=function(e,n,t){var a,o,i,u,f,w,s=e.length;if(0!==s%2)throw Error("String of HEX type must be in byte increments");for(n=n||[0],t=t||0,f=t>>>3,w=-1===r?3:0,a=0;a<s;a+=2){if(o=parseInt(e.substr(a,2),16),isNaN(o))throw Error("String of HEX type contains invalid characters");for(u=(a>>>1)+f,i=u>>>2;n.length<=i;)n.push(0);n[i]|=o<<8*(w+u%4*r)}return{value:n,binLen:4*s+t}};break;case"TEXT":e=function(e,t,a){var o,i,u,f,w,s,c,b,h=0;if(t=t||[0],a=a||0,w=a>>>3,"UTF8"===n)for(b=-1===r?3:0,u=0;u<e.length;u+=1)for(o=e.charCodeAt(u),i=[],128>o?i.push(o):2048>o?(i.push(192|o>>>6),i.push(128|63&o)):55296>o||57344<=o?i.push(224|o>>>12,128|o>>>6&63,128|63&o):(u+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(u)),i.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),f=0;f<i.length;f+=1){for(c=h+w,s=c>>>2;t.length<=s;)t.push(0);t[s]|=i[f]<<8*(b+c%4*r),h+=1}else if("UTF16BE"===n||"UTF16LE"===n)for(b=-1===r?2:0,i="UTF16LE"===n&&1!==r||"UTF16LE"!==n&&1===r,u=0;u<e.length;u+=1){for(o=e.charCodeAt(u),!0===i&&(f=255&o,o=f<<8|o>>>8),c=h+w,s=c>>>2;t.length<=s;)t.push(0);t[s]|=o<<8*(b+c%4*r),h+=2}return{value:t,binLen:8*h+a}};break;case"B64":e=function(e,n,t){var a,o,i,u,f,w,s,c,b=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(o=e.indexOf("="),e=e.replace(/\=/g,""),-1!==o&&o<e.length)throw Error("Invalid '=' found in base-64 string");for(n=n||[0],t=t||0,w=t>>>3,c=-1===r?3:0,o=0;o<e.length;o+=4){for(f=e.substr(o,4),i=u=0;i<f.length;i+=1)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[i]),u|=a<<18-6*i;for(i=0;i<f.length-1;i+=1){for(s=b+w,a=s>>>2;n.length<=a;)n.push(0);n[a]|=(u>>>16-8*i&255)<<8*(c+s%4*r),b+=1}}return{value:n,binLen:8*b+t}};break;case"BYTES":e=function(e,n,t){var a,o,i,u,f,w;for(n=n||[0],t=t||0,i=t>>>3,w=-1===r?3:0,o=0;o<e.length;o+=1)a=e.charCodeAt(o),f=o+i,u=f>>>2,n.length<=u&&n.push(0),n[u]|=a<<8*(w+f%4*r);return{value:n,binLen:8*e.length+t}};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}e=function(e,n,t){var a,o,i,u,f,w;for(n=n||[0],t=t||0,o=t>>>3,f=-1===r?3:0,w=new Uint8Array(e),a=0;a<e.byteLength;a+=1)u=a+o,i=u>>>2,n.length<=i&&n.push(0),n[i]|=w[a]<<8*(f+u%4*r);return{value:n,binLen:8*e.byteLength+t}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return e}function w(e,n){return e<<n|e>>>32-n}function s(e,n){return 32<n?(n-=32,new r(e.b<<n|e.a>>>32-n,e.a<<n|e.b>>>32-n)):0!==n?new r(e.a<<n|e.b>>>32-n,e.b<<n|e.a>>>32-n):e}function c(e,n){return e>>>n|e<<32-n}function b(e,n){var t=null,t=new r(e.a,e.b);return t=32>=n?new r(t.a>>>n|t.b<<32-n&4294967295,t.b>>>n|t.a<<32-n&4294967295):new r(t.b>>>n-32|t.a<<64-n&4294967295,t.a>>>n-32|t.b<<64-n&4294967295)}function h(e,n){var t=null;return t=32>=n?new r(e.a>>>n,e.b>>>n|e.a<<32-n&4294967295):new r(0,e.a>>>n-32)}function l(e,n,r){return e&n^~e&r}function A(e,n,t){return new r(e.a&n.a^~e.a&t.a,e.b&n.b^~e.b&t.b)}function p(e,n,r){return e&n^e&r^n&r}function E(e,n,t){return new r(e.a&n.a^e.a&t.a^n.a&t.a,e.b&n.b^e.b&t.b^n.b&t.b)}function d(e){return c(e,2)^c(e,13)^c(e,22)}function H(e){var n=b(e,28),t=b(e,34);return e=b(e,39),new r(n.a^t.a^e.a,n.b^t.b^e.b)}function v(e){return c(e,6)^c(e,11)^c(e,25)}function S(e){var n=b(e,14),t=b(e,18);return e=b(e,41),new r(n.a^t.a^e.a,n.b^t.b^e.b)}function g(e){return c(e,7)^c(e,18)^e>>>3}function U(e){var n=b(e,1),t=b(e,8);return e=h(e,7),new r(n.a^t.a^e.a,n.b^t.b^e.b)}function k(e){return c(e,17)^c(e,19)^e>>>10}function m(e){var n=b(e,19),t=b(e,61);return e=h(e,6),new r(n.a^t.a^e.a,n.b^t.b^e.b)}function F(e,n){var r=(65535&e)+(65535&n);return((e>>>16)+(n>>>16)+(r>>>16)&65535)<<16|65535&r}function y(e,n,r,t){var a=(65535&e)+(65535&n)+(65535&r)+(65535&t);return((e>>>16)+(n>>>16)+(r>>>16)+(t>>>16)+(a>>>16)&65535)<<16|65535&a}function R(e,n,r,t,a){var o=(65535&e)+(65535&n)+(65535&r)+(65535&t)+(65535&a);return((e>>>16)+(n>>>16)+(r>>>16)+(t>>>16)+(a>>>16)+(o>>>16)&65535)<<16|65535&o}function B(e,n){var t,a,o;return t=(65535&e.b)+(65535&n.b),a=(e.b>>>16)+(n.b>>>16)+(t>>>16),o=(65535&a)<<16|65535&t,t=(65535&e.a)+(65535&n.a)+(a>>>16),a=(e.a>>>16)+(n.a>>>16)+(t>>>16),new r((65535&a)<<16|65535&t,o)}function L(e,n,t,a){var o,i,u;return o=(65535&e.b)+(65535&n.b)+(65535&t.b)+(65535&a.b),i=(e.b>>>16)+(n.b>>>16)+(t.b>>>16)+(a.b>>>16)+(o>>>16),u=(65535&i)<<16|65535&o,o=(65535&e.a)+(65535&n.a)+(65535&t.a)+(65535&a.a)+(i>>>16),i=(e.a>>>16)+(n.a>>>16)+(t.a>>>16)+(a.a>>>16)+(o>>>16),new r((65535&i)<<16|65535&o,u)}function T(e,n,t,a,o){var i,u,f;return i=(65535&e.b)+(65535&n.b)+(65535&t.b)+(65535&a.b)+(65535&o.b),u=(e.b>>>16)+(n.b>>>16)+(t.b>>>16)+(a.b>>>16)+(o.b>>>16)+(i>>>16),f=(65535&u)<<16|65535&i,i=(65535&e.a)+(65535&n.a)+(65535&t.a)+(65535&a.a)+(65535&o.a)+(u>>>16),u=(e.a>>>16)+(n.a>>>16)+(t.a>>>16)+(a.a>>>16)+(o.a>>>16)+(i>>>16),new r((65535&u)<<16|65535&i,f)}function C(e,n){return new r(e.a^n.a,e.b^n.b)}function x(e){var n,t=[];if("SHA-1"===e)t=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===e.lastIndexOf("SHA-",0))switch(t=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":t=n;break;case"SHA-384":t=[new r(3418070365,t[0]),new r(1654270250,t[1]),new r(2438529370,t[2]),new r(355462360,t[3]),new r(1731405415,t[4]),new r(41048885895,t[5]),new r(3675008525,t[6]),new r(1203062813,t[7])];break;case"SHA-512":t=[new r(n[0],4089235720),new r(n[1],2227873595),new r(n[2],4271175723),new r(n[3],1595750129),new r(n[4],2917565137),new r(n[5],725511199),new r(n[6],4215389547),new r(n[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(e=0;5>e;e+=1)t[e]=[new r(0,0),new r(0,0),new r(0,0),new r(0,0),new r(0,0)]}return t}function Y(e,n){var r,t,a,o,i,u,f,s=[];for(r=n[0],t=n[1],a=n[2],o=n[3],i=n[4],f=0;80>f;f+=1)s[f]=16>f?e[f]:w(s[f-3]^s[f-8]^s[f-14]^s[f-16],1),u=20>f?R(w(r,5),t&a^~t&o,i,1518500249,s[f]):40>f?R(w(r,5),t^a^o,i,1859775393,s[f]):60>f?R(w(r,5),p(t,a,o),i,2400959708,s[f]):R(w(r,5),t^a^o,i,3395469782,s[f]),i=o,o=a,a=w(t,30),t=r,r=u;return n[0]=F(r,n[0]),n[1]=F(t,n[1]),n[2]=F(a,n[2]),n[3]=F(o,n[3]),n[4]=F(i,n[4]),n}function I(e,n,r,t){var a;for(a=(n+65>>>9<<4)+15;e.length<=a;)e.push(0);for(e[n>>>5]|=128<<24-n%32,n+=r,e[a]=4294967295&n,e[a-1]=n/4294967296|0,n=e.length,a=0;a<n;a+=16)t=Y(e.slice(a,a+16),t);return t}function O(e,n,t){var a,o,i,u,f,w,s,c,b,h,C,x,Y,I,O,X,K,N,j,z,Z,q,D,G=[];if("SHA-224"===t||"SHA-256"===t)h=64,x=1,q=Number,Y=F,I=y,O=R,X=g,K=k,N=d,j=v,Z=p,z=l,D=P;else{if("SHA-384"!==t&&"SHA-512"!==t)throw Error("Unexpected error in SHA-2 implementation");h=80,x=2,q=r,Y=B,I=L,O=T,X=U,K=m,N=H,j=S,Z=E,z=A,D=M}for(t=n[0],a=n[1],o=n[2],i=n[3],u=n[4],f=n[5],w=n[6],s=n[7],C=0;C<h;C+=1)16>C?(b=C*x,c=e.length<=b?0:e[b],b=e.length<=b+1?0:e[b+1],G[C]=new q(c,b)):G[C]=I(K(G[C-2]),G[C-7],X(G[C-15]),G[C-16]),c=O(s,j(u),z(u,f,w),D[C],G[C]),b=Y(N(t),Z(t,a,o)),s=w,w=f,f=u,u=Y(i,c),i=o,o=a,a=t,t=Y(c,b);return n[0]=Y(t,n[0]),n[1]=Y(a,n[1]),n[2]=Y(o,n[2]),n[3]=Y(i,n[3]),n[4]=Y(u,n[4]),n[5]=Y(f,n[5]),n[6]=Y(w,n[6]),n[7]=Y(s,n[7]),n}function X(e,n){var t,a,o,i,u=[],f=[];if(null!==e)for(a=0;a<e.length;a+=2)n[(a>>>1)%5][(a>>>1)/5|0]=C(n[(a>>>1)%5][(a>>>1)/5|0],new r(e[a+1],e[a]));for(t=0;24>t;t+=1){for(i=x("SHA3-"),a=0;5>a;a+=1){o=n[a][0];var w=n[a][1],c=n[a][2],b=n[a][3],h=n[a][4];u[a]=new r(o.a^w.a^c.a^b.a^h.a,o.b^w.b^c.b^b.b^h.b)}for(a=0;5>a;a+=1)f[a]=C(u[(a+4)%5],s(u[(a+1)%5],1));for(a=0;5>a;a+=1)for(o=0;5>o;o+=1)n[a][o]=C(n[a][o],f[a]);for(a=0;5>a;a+=1)for(o=0;5>o;o+=1)i[o][(2*a+3*o)%5]=s(n[a][o],K[a][o]);for(a=0;5>a;a+=1)for(o=0;5>o;o+=1)n[a][o]=C(i[a][o],new r(~i[(a+1)%5][o].a&i[(a+2)%5][o].a,~i[(a+1)%5][o].b&i[(a+2)%5][o].b));n[0][0]=C(n[0][0],N[t])}return n}var P,M,K,N;P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],M=[new r(P[0],3609767458),new r(P[1],602891725),new r(P[2],3964484399),new r(P[3],2173295548),new r(P[4],4081628472),new r(P[5],3053834265),new r(P[6],2937671579),new r(P[7],3664609560),new r(P[8],2734883394),new r(P[9],1164996542),new r(P[10],1323610764),new r(P[11],3590304994),new r(P[12],4068182383),new r(P[13],991336113),new r(P[14],633803317),new r(P[15],3479774868),new r(P[16],2666613458),new r(P[17],944711139),new r(P[18],2341262773),new r(P[19],2007800933),new r(P[20],1495990901),new r(P[21],1856431235),new r(P[22],3175218132),new r(P[23],2198950837),new r(P[24],3999719339),new r(P[25],766784016),new r(P[26],2566594879),new r(P[27],3203337956),new r(P[28],1034457026),new r(P[29],2466948901),new r(P[30],3758326383),new r(P[31],168717936),new r(P[32],1188179964),new r(P[33],1546045734),new r(P[34],1522805485),new r(P[35],2643833823),new r(P[36],2343527390),new r(P[37],1014477480),new r(P[38],1206759142),new r(P[39],344077627),new r(P[40],1290863460),new r(P[41],3158454273),new r(P[42],3505952657),new r(P[43],106217008),new r(P[44],3606008344),new r(P[45],1432725776),new r(P[46],1467031594),new r(P[47],851169720),new r(P[48],3100823752),new r(P[49],1363258195),new r(P[50],3750685593),new r(P[51],3785050280),new r(P[52],3318307427),new r(P[53],3812723403),new r(P[54],2003034995),new r(P[55],3602036899),new r(P[56],1575990012),new r(P[57],1125592928),new r(P[58],2716904306),new r(P[59],442776044),new r(P[60],593698344),new r(P[61],3733110249),new r(P[62],2999351573),new r(P[63],3815920427),new r(3391569614,3928383900),new r(3515267271,566280711),new r(3940187606,3454069534),new r(4118630271,4000239992),new r(116418474,1914138554),new r(174292421,2731055270),new r(289380356,3203993006),new r(460393269,320620315),new r(685471733,587496836),new r(852142971,1086792851),new r(1017036298,365543100),new r(1126000580,2618297676),new r(1288033470,3409855158),new r(1501505948,4234509866),new r(1607167915,987167468),new r(1816402316,1246189591)],N=[new r(0,1),new r(0,32898),new r(2147483648,32906),new r(2147483648,2147516416),new r(0,32907),new r(0,2147483649),new r(2147483648,2147516545),new r(2147483648,32777),new r(0,138),new r(0,136),new r(0,2147516425),new r(0,2147483658),new r(0,2147516555),new r(2147483648,139),new r(2147483648,32905),new r(2147483648,32771),new r(2147483648,32770),new r(2147483648,128),new r(0,32778),new r(2147483648,2147483658),new r(2147483648,2147516545),new r(2147483648,32896),new r(0,2147483649),new r(2147483648,2147516424)],K=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=n),exports=n):e.jsSHA=n}(this);